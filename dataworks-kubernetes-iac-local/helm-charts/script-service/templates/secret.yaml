apiVersion: v1
kind: Secret
metadata:
  name: {{ include "script-service.fullname" . }}-secret
  labels:
    {{- include "script-service.labels" . | nindent 4 }}
    app.kubernetes.io/instance: {{ .Release.Name }}
    app.kubernetes.io/version: {{ .Chart.Version }}
    app.kubernetes.io/managed-by: {{ .Release.Service }}
    app.kubernetes.io/contact: {{ .Values.labels.contact }}
    app.kubernetes.io/workload: {{ .Values.labels.workload }}
    app.kubernetes.io/env: {{ .Values.labels.env }}
    app.kubernetes.io/tier: {{ .Values.labels.tier }}
    app.kubernetes.io/project: {{ .Values.labels.project }}
type: opaque
data:
  PG_PASS: {{ .Values.env.PG_PASS | b64enc | quote }}
  PG_USER: {{ .Values.env.PG_USER | b64enc | quote }}
  PG_DB: {{ .Values.env.PG_DB | b64enc | quote }}

